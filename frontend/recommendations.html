<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Craft Your Perfect Getaway - WanderAI</title>
    <link rel="stylesheet" href="css/style.css?v=1005" />
    <link rel="stylesheet" href="css/booking.css?v=1005" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"
    />
    <!-- Date Picker -->
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css"
    />
    <script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>
    
    <!-- API Configuration -->
    <script>
      // Set API base URL for production/development
      window.API_BASE_URL = 'https://travel-agent-backend-74fv.onrender.com';
    </script>
    
    <style>
      .recommendations-container {
        max-width: 1200px;
        margin: 0 auto;
        padding: 20px;
      }

      .recommendations-header {
        text-align: center;
        margin-bottom: 40px;
      }

      .recommendations-header h1 {
        color: #2c3e50;
        margin-bottom: 10px;
        font-size: 2.5rem;
        font-weight: 700;
      }

      .recommendations-header p {
        color: #7f8c8d;
        font-size: 18px;
        max-width: 600px;
        margin: 0 auto;
      }

      .preferences-form {
        background: white;
        border-radius: 15px;
        padding: 30px;
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        margin-bottom: 30px;
      }

      .form-section {
        margin-bottom: 30px;
        background: #f8fafc;
        border-radius: 12px;
        padding: 25px;
        border: 1px solid #e2e8f0;
      }

      .form-section h3 {
        color: #2c3e50;
        margin-bottom: 20px;
        font-size: 20px;
        display: flex;
        align-items: center;
        gap: 10px;
      }

      .form-section h3 i {
        color: #6366f1;
        font-size: 18px;
      }

      .form-row {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
        gap: 20px;
        margin-bottom: 20px;
      }

      .form-group {
        display: flex;
        flex-direction: column;
      }

      .form-group label {
        font-weight: 600;
        color: #34495e;
        margin-bottom: 8px;
        font-size: 14px;
      }

      .form-group select,
      .form-group input,
      .form-group textarea {
        padding: 12px;
        border: 2px solid #ecf0f1;
        border-radius: 8px;
        font-size: 16px;
        transition: border-color 0.3s;
        background: white;
      }

      .form-group select:focus,
      .form-group input:focus,
      .form-group textarea:focus {
        outline: none;
        border-color: #6366f1;
        box-shadow: 0 0 0 3px rgba(99, 102, 241, 0.1);
      }

      .interests-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
        gap: 10px;
        margin-top: 15px;
      }

      .interest-checkbox {
        display: flex;
        align-items: center;
        padding: 12px 16px;
        border: 2px solid #e2e8f0;
        border-radius: 8px;
        cursor: pointer;
        transition: all 0.3s;
        background: #ffffff;
        color: #374151;
        font-weight: 500;
        font-size: 14px;
        text-align: center;
        justify-content: center;
      }

      .interest-checkbox:hover {
        border-color: #6366f1;
        background-color: #f3f4f6;
        transform: translateY(-1px);
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
      }

      .interest-checkbox input[type="checkbox"] {
        margin-right: 8px;
        transform: scale(1.2);
        accent-color: #6366f1;
      }

      .interest-checkbox.checked {
        border-color: #6366f1;
        background-color: #eef2ff;
        color: #6366f1;
      }

      .budget-slider {
        width: 100%;
        margin: 10px 0;
      }

      .budget-value {
        text-align: center;
        font-weight: 600;
        color: #6366f1;
        font-size: 18px;
        margin-top: 10px;
      }

      .generate-btn {
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        color: white;
        border: none;
        padding: 15px 30px;
        border-radius: 8px;
        font-size: 16px;
        font-weight: 600;
        cursor: pointer;
        transition: all 0.3s;
        width: 100%;
        margin-top: 20px;
      }

      .generate-btn:hover {
        transform: translateY(-2px);
        box-shadow: 0 8px 25px rgba(102, 126, 234, 0.3);
      }

      /* Booking Form Section */
      .booking-form-section {
        margin-top: 40px;
        padding: 30px;
        background: #f8fafc;
        border-radius: 12px;
        border: 1px solid #e2e8f0;
      }

      .booking-form-section h3 {
        color: #1f2937;
        margin-bottom: 10px;
        display: flex;
        align-items: center;
        gap: 10px;
      }

      .booking-form-section p {
        color: #6b7280;
        margin-bottom: 20px;
      }

      .booking-tabs {
        display: flex;
        gap: 10px;
        margin-bottom: 20px;
      }

      .booking-tab {
        padding: 12px 20px;
        border: 2px solid #e2e8f0;
        background: white;
        border-radius: 8px;
        cursor: pointer;
        transition: all 0.3s;
        display: flex;
        align-items: center;
        gap: 8px;
        font-weight: 500;
      }

      .booking-tab.active {
        border-color: #6366f1;
        background: #6366f1;
        color: white;
      }

      .booking-tab:hover:not(.active) {
        border-color: #6366f1;
        background: #f0f9ff;
      }

      .booking-content {
        display: none;
      }

      .booking-content.active {
        display: block;
      }

      .form-input {
        padding: 12px;
        border: 2px solid #ecf0f1;
        border-radius: 8px;
        font-size: 16px;
        transition: border-color 0.3s;
        background: white;
        width: 100%;
      }

      .form-input:focus {
        outline: none;
        border-color: #6366f1;
        box-shadow: 0 0 0 3px rgba(99, 102, 241, 0.1);
      }

      .btn {
        padding: 12px 24px;
        border: none;
        border-radius: 8px;
        font-size: 16px;
        font-weight: 600;
        cursor: pointer;
        transition: all 0.3s;
        display: inline-flex;
        align-items: center;
        gap: 8px;
        text-decoration: none;
      }

      .btn-primary {
        background: #6366f1;
        color: white;
      }

      .btn-primary:hover {
        background: #4f46e5;
        transform: translateY(-1px);
        box-shadow: 0 4px 12px rgba(99, 102, 241, 0.3);
      }

      .generate-btn:hover {
        transform: translateY(-2px);
        box-shadow: 0 8px 25px rgba(102, 126, 234, 0.3);
      }

      .generate-btn:disabled {
        opacity: 0.6;
        cursor: not-allowed;
        transform: none;
      }

      .recommendations-results {
        background: white;
        border-radius: 15px;
        padding: 30px;
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        display: none;
      }

      .loading-state {
        text-align: center;
        padding: 40px;
        display: none;
      }

      .loading-spinner {
        border: 4px solid #f3f3f3;
        border-top: 4px solid #6366f1;
        border-radius: 50%;
        width: 50px;
        height: 50px;
        animation: spin 1s linear infinite;
        margin: 0 auto 20px;
      }

      @keyframes spin {
        0% {
          transform: rotate(0deg);
        }
        100% {
          transform: rotate(360deg);
        }
      }

      .recommendation-card {
        background: #f8f9fa;
        border-radius: 12px;
        padding: 20px;
        margin-bottom: 20px;
        border-left: 4px solid #6366f1;
      }

      .recommendation-card h4 {
        color: #2c3e50;
        margin-bottom: 10px;
        font-size: 18px;
      }

      .recommendation-card p {
        color: #7f8c8d;
        line-height: 1.6;
      }

      /* Responsive Design */
      @media (max-width: 768px) {
        .form-row {
          grid-template-columns: 1fr;
        }
        
        .interests-grid {
          grid-template-columns: repeat(2, 1fr);
        }
        
        .recommendations-header h1 {
          font-size: 2rem;
        }
      }
    </style>
  </head>
  <body>
    <!-- Navigation -->
    <nav class="navbar">
      <div class="nav-container">
        <div class="nav-logo">
          <a href="index.html" class="logo-link">
            <div class="logo-icon">
              <i class="fas fa-compass"></i>
            </div>
            <div class="logo-text">
              <span class="logo-title">WanderAI</span>
              <div class="logo-subtitle">Your AI Travel Companion</div>
            </div>
          </a>
        </div>

        <div class="nav-menu" id="nav-menu">
          <a href="upload.html" class="nav-link">
            <i class="fas fa-camera"></i>
            <span>Start Planning</span>
          </a>
          <a href="recommendations.html" class="nav-link active">
            <i class="fas fa-star"></i>
            <span>Get Recommendations</span>
          </a>
          <a href="booking.html" class="nav-link">
            <i class="fas fa-plane"></i>
            <span>Book Travel</span>
          </a>
          <a href="visualizations.html" class="nav-link">
            <i class="fas fa-images"></i>
            <span>My Trips</span>
          </a>
        </div>

        <div class="nav-toggle" id="nav-toggle">
          <i class="fas fa-bars"></i>
        </div>
      </div>
    </nav>

    <div class="recommendations-container">
      <div class="recommendations-header">
        <h1>Craft Your Perfect Getaway</h1>
        <p>Tell us your preferences and our AI will curate a list of travel recommendations just for you.</p>
      </div>

      <div class="preferences-form">
        <form id="recommendationsForm">
          <div class="form-section">
            <h3><i class="fas fa-users"></i> Who are you?</h3>
            <div class="form-row">
              <div class="form-group">
                <label for="ageGroup">Age Group</label>
                <select id="ageGroup" required>
                  <option value="">Select age group</option>
                  <option value="18-25">18-25 (Young Adult)</option>
                  <option value="26-35">26-35 (Young Professional)</option>
                  <option value="36-50" selected>36-50 (Family Age)</option>
                  <option value="51-65">51-65 (Mature Traveler)</option>
                  <option value="65+">65+ (Senior Traveler)</option>
                </select>
              </div>
              <div class="form-group">
                <label for="groupSize">Who are you traveling with?</label>
                <select id="groupSize" required>
                  <option value="">Select group size</option>
                  <option value="solo" selected>Solo</option>
                  <option value="couple">Couple (2 people)</option>
                  <option value="family">Family (3-5 people)</option>
                  <option value="friends">Friends (2-6 people)</option>
                  <option value="large-group">Large Group (7+ people)</option>
                </select>
              </div>
            </div>
          </div>

          <div class="form-section">
            <h3><i class="fas fa-globe"></i> Where do you want to go?</h3>
            <div class="form-row">
              <div class="form-group">
                <label for="countrySelect">Country</label>
                <select id="countrySelect" required>
                  <option value="">Select country</option>
                  <option value="anywhere" selected>Anywhere</option>
                  <!-- Options will be populated by JS -->
                </select>
              </div>
            </div>
          </div>

          <div class="form-section">
            <h3><i class="fas fa-compass"></i> What kind of trip are you looking for?</h3>
            <div class="interests-grid" id="interestsGrid">
              <label class="interest-checkbox">
                <input type="checkbox" value="romantic" />
                <span>Romantic</span>
              </label>
              <label class="interest-checkbox checked">
                <input type="checkbox" value="adventure" checked />
                <span>Adventure</span>
              </label>
              <label class="interest-checkbox">
                <input type="checkbox" value="culture" />
                <span>Cultural</span>
              </label>
              <label class="interest-checkbox">
                <input type="checkbox" value="relaxation" />
                <span>Relaxation</span>
              </label>
              <label class="interest-checkbox">
                <input type="checkbox" value="food" />
                <span>Cuisine</span>
              </label>
              <label class="interest-checkbox">
                <input type="checkbox" value="history" />
                <span>History</span>
              </label>
              <label class="interest-checkbox">
                <input type="checkbox" value="nature" />
                <span>Nature</span>
              </label>
              <label class="interest-checkbox">
                <input type="checkbox" value="shopping" />
                <span>Shopping</span>
              </label>
            </div>
          </div>

          <div class="form-section">
            <h3><i class="fas fa-plane"></i> Logistics & Budget</h3>
            <div class="form-row">
              <div class="form-group">
                <label for="tripDuration">How long is your trip?</label>
                <select id="tripDuration" required>
                  <option value="">Select duration</option>
                  <option value="weekend">Weekend (2-3 days)</option>
                  <option value="week" selected>1 week</option>
                  <option value="two-weeks">Two Weeks (10-14 days)</option>
                  <option value="month">Month (20-30 days)</option>
                  <option value="long-term">Long Term (1+ months)</option>
                </select>
              </div>
              <div class="form-group">
                <label for="budgetRange">What's your budget per person?</label>
                <input
                  type="range"
                  id="budgetRange"
                  min="500"
                  max="10000"
                  step="500"
                  value="3000"
                  class="budget-slider"
                />
                <div class="budget-value" id="budgetValue">$3,000</div>
              </div>
            </div>
          </div>

          <div class="form-section">
            <h3><i class="fas fa-plus"></i> Anything else?</h3>
            <div class="form-group">
              <label for="additionalNotes">Any specific requirements or preferences?</label>
              <textarea
                id="additionalNotes"
                rows="4"
                placeholder="E.g., I prefer warm weather, accessibility needs, specific destinations to avoid..."
              ></textarea>
            </div>
          </div>

          <button type="submit" class="generate-btn" id="generateBtn">
            <i class="fas fa-star"></i> Generate Recommendations
          </button>
        </form>
      </div>

      <div class="loading-state" id="loadingState">
        <div class="loading-spinner"></div>
        <h3>Generating your personalized recommendations...</h3>
        <p>
          This may take a few moments as we analyze your preferences and create
          the perfect travel suggestions.
        </p>
      </div>

      <div class="recommendations-results" id="recommendationsResults">
        <h2><i class="fas fa-star"></i> Your Personalized Recommendations</h2>
        <div id="recommendationsContent"></div>
        
        <!-- Booking Form Section -->
        <div class="booking-form-section" id="bookingFormSection" style="display: none;">
          <h3><i class="fas fa-plane"></i> Book Your Trip</h3>
          <p>Ready to make your dream trip a reality? Book your flights and accommodation below.</p>
          
          <div class="booking-tabs">
            <button class="booking-tab active" data-tab="flights">
              <i class="fas fa-plane"></i>
              <span>Flights</span>
            </button>
            <button class="booking-tab" data-tab="hotels">
              <i class="fas fa-bed"></i>
              <span>Hotels</span>
            </button>
          </div>
          
          <!-- Flight Booking -->
          <div class="booking-content active" id="flights-tab">
            <div class="form-row">
              <div class="form-group">
                <label for="flight-from">From</label>
                <input type="text" id="flight-from" placeholder="Departure city" class="form-input">
              </div>
              <div class="form-group">
                <label for="flight-to">To</label>
                <input type="text" id="flight-to" placeholder="Destination city" class="form-input">
              </div>
            </div>
            <div class="form-row">
              <div class="form-group">
                <label for="flight-depart">Departure</label>
                <input type="date" id="flight-depart" class="form-input">
              </div>
              <div class="form-group">
                <label for="flight-return">Return</label>
                <input type="date" id="flight-return" class="form-input">
              </div>
            </div>
            <button class="btn btn-primary" id="searchFlights">
              <i class="fas fa-search"></i>
              Search Flights
            </button>
          </div>
          
          <!-- Hotel Booking -->
          <div class="booking-content" id="hotels-tab">
            <div class="form-row">
              <div class="form-group">
                <label for="hotel-destination">Destination</label>
                <input type="text" id="hotel-destination" placeholder="Where are you going?" class="form-input">
              </div>
            </div>
            <div class="form-row">
              <div class="form-group">
                <label for="hotel-checkin">Check-in</label>
                <input type="date" id="hotel-checkin" class="form-input">
              </div>
              <div class="form-group">
                <label for="hotel-checkout">Check-out</label>
                <input type="date" id="hotel-checkout" class="form-input">
              </div>
            </div>
            <button class="btn btn-primary" id="searchHotels">
              <i class="fas fa-search"></i>
              Search Hotels
            </button>
          </div>
        </div>
      </div>
    </div>

    <script src="js/api.js?v=999"></script>
    <script src="js/components.js?v=999"></script>
    <script src="js/recommendations.js?v=999"></script>
  </body>
</html>
